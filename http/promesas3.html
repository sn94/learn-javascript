/*
 * Esto es un borrador de JavaScript.
 *
 * Escriba algo de JavaScript, después haga clic derecho o elija del menú Acción:
 * 1. Ejecutar para evaluar el texto seleccionado (Ctrl+R),
 * 2. Inspeccionar para mostrar el inspector de objetos con el resultado (Ctrl+I), o,
 * 3. Mostrar para insertar el resultado en un comentario después de la selección. (Ctrl+L)
 */

 function getJSON(url){
   
   return new Promise( function(  exito){
     
     var req=  new XMLHttpRequest();
     req.open("GET", url,  true);
     
     req.addEventListener("load", function(){
       if(req.status < 400 ){
         console.log("exito" );
         var obj= JSON.parse(  req.responseText );
         exito( obj  );
         //console.log(   req.responseText )  ;
       }else{
         console.log("falla");
         console.log ("Request failed "+req.statusText) ;
       }
       
     });
     
      req.addEventListener("error", function(){
       console.log(   "Network error " ); 
      });
     
     
     req.send( null );
   });
 }




function showMessage(  ar){
  
  var el= document.createElement("div");
  el.textContent=  ar;
  return document.body.appendChild( el);
}


var loading= showMessage("Loading ... (..)");


getJSON("http://localhost/learn-php/Peticiones/").then( 
function(param_success){
  
  
  
  
});


